<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API CLASS</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css">
</head>
<body>
    <section id="sectionOne" class="d-flex w-100 flex-wrap"></section>
</body>
<script>
    //Asynchronous operations in JS
    // let api = 'https://jsonplaceholder.typicode.com/todos';
    // let sectionOne = document.getElementById("sectionOne");

    // function test() {
    // let apiResponse = fetch(api);
    //     apiResponse.then((response) => {
    //         console.log(response);
    //         const result = response.json();
    //         result.then((data) => {
    //             console.log(data);

    //             data.map((item, index) => {
    //                 sectionOne.innerHTML += `
    //                     <div class="card w-25 shadow-lg ms-2" style="min-width: 20%;">
    //                         <p>S/N: ${item.id}</p>
    //                         <p>Title: ${item.title}</p>
    //                         <p>User Id: ${item.userId}</p>
    //                         ${item.completed ? '<p class="bg bg-success">Completed</p>' : '<p class="bg bg-danger">Not completed</p>'}
    //                     </div>
    //                 `
    //             })
    //         }).catch((error)=>{
    //             throw error;
    //         })
    //     }).catch((error)=>{
    //         console.log(error)
    //     })
    // }
    // test();

    // async function testTwo() {
    //     try {
    //         const response = await fetch(api);
    //         const responseData = response.json();
    //         const data = await responseData;
    //         data.map((item, index) => {
    //             sectionOne.innerHTML += `
    //             <div class="card w-25 shadow-lg ms-2" style="min-width: 20%;">
    //                 <p>S/N: ${item.id}</p>
    //                 <p>Title: ${item.title}</p>
    //                 <p>User Id: ${item.userId}</p>
    //                 ${item.completed ? '<p class="bg bg-success">Completed</p>' : '<p class="bg bg-danger">Not completed</p>'}
    //             </div>
    //             `
    //         })
    //     } catch (error) {
    //         console.log(error)
    //     }
    // }
    // testTwo();

    // https://fakestoreapi.com/products/ The API we are to consume for our assignment
    //Ogunba Joseph  
    
    
    let api = 'https://fakestoreapi.com/products';
    sectionOne = document.getElementById("sectionOne")

    function test (){
  let apiResponse = fetch(api);
    apiResponse.then((response) =>{
     console.log(response);
  
     const result = response.json()
          result.then((data) => {
             console.log(data)
        
         data.map((item, index) =>{
           sectionOne. innerHTML += `
           <div class="card w-25 shadow-lg " style="min-width: 20%;">
                            <p>S/N: ${item.id}</p>
                            <p class="fs-">Title: ${item.title}</p>
                            <p>Price: ${item.price}</p>
                            <p>Category: ${item.category}</p>
                             
                             <P><img style=" width:100px; height: 100px align-item-center" src="${item.image}" > </p>                        
                        </div>`
                    
         })  
           
        }) .catch((error) => {
                 throw error;
            })
   
    }).catch((error) =>{
       console.log(error)
    })
}
     test();



</script>

</html>